<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korskavireis - Admin Panel</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <div id="login-screen" class="login-container">
        <div class="login-box">
            <h2>游댏 Admin Tilgang</h2>
            <p>Skriv inn passord for 친 f친 tilgang til admin-panelet</p>
            <input type="password" id="admin-password" placeholder="Passord" />
            <button onclick="login()" class="admin-btn">Logg inn</button>
            <p id="login-error" class="error-message"></p>
        </div>
    </div>

    <div id="admin-panel" class="admin-panel" style="display: none;">
        <header class="admin-header">
            <h1>游꿡 Korskavireis Admin Panel</h1>
            <button onclick="logout()" class="logout-btn">Logg ut</button>
        </header>

        <main class="admin-main">
                                    <div class="admin-section">
                            <h2>游꿢 Spill Kontroll</h2>
                            <div class="info-box">
                                <h4>游닇 Config-fil instruksjoner:</h4>
                                <p>For permanent lagring av innstillinger, oppdater <code>config.json</code> filen med innstillingene som vises n친r du klikker "Bruk innstillinger".</p>
                                <p>Spillet vil automatisk lese fra config.json n친r det starter.</p>
                            </div>
                <div class="control-group">
                    <label for="game-mode">Spillmodus:</label>
                    <select id="game-mode" onchange="toggleCountrySelect()">
                        <option value="random">Tilfeldig land</option>
                        <option value="specific">Spesifikt land</option>
                    </select>
                </div>
                
                <div id="country-select-group" class="control-group" style="display: none;">
                    <label for="specific-country">Velg land:</label>
                    <select id="specific-country">
                        <!-- Vil bli fylt dynamisk -->
                    </select>
                </div>

                                            <div class="control-group">
                                <button onclick="applyGameSettings()" class="admin-btn">Bruk innstillinger</button>
                                <button onclick="testCurrentSettings()" class="admin-btn secondary">Test n친v칝rende innstillinger</button>
                                <button onclick="forceNewGame()" class="admin-btn secondary">Start nytt spill</button>
                            </div>
            </div>

            <div class="admin-section">
                <h2>游댌 Land Data S칮kt</h2>
                <div class="search-group">
                    <input type="text" id="country-search" placeholder="S칮k etter land..." />
                    <button onclick="searchCountry()" class="admin-btn">S칮k</button>
                </div>
                
                <div id="country-data" class="country-data-display" style="display: none;">
                    <h3 id="selected-country-name">Land Navn</h3>
                    
                    <div class="data-grid">
                        <div class="data-item">
                            <label>ISO3 Kode:</label>
                            <span id="country-iso3">-</span>
                        </div>
                        <div class="data-item">
                            <label>Kontinent:</label>
                            <span id="country-continent">-</span>
                        </div>
                        <div class="data-item">
                            <label>Region:</label>
                            <span id="country-region">-</span>
                        </div>
                        <div class="data-item">
                            <label>Befolkning:</label>
                            <span id="country-population">-</span>
                        </div>
                        <div class="data-item">
                            <label>Befolknings친r:</label>
                            <span id="country-population-year">-</span>
                        </div>
                        <div class="data-item">
                            <label>N친v칝rende bilde:</label>
                            <span id="country-image-file">-</span>
                        </div>
                        <div class="data-item">
                            <label>Hovedstad:</label>
                            <span id="country-capital">-</span>
                        </div>
                        <div class="data-item">
                            <label>Hovedstad koordinater:</label>
                            <span id="country-capital-coordinates">-</span>
                        </div>
                        <div class="data-item">
                            <label>Region:</label>
                            <span id="country-region">-</span>
                        </div>
                        <div class="data-item">
                            <label>H칮yeste fjell:</label>
                            <span id="country-highest-mountain">-</span>
                        </div>
                        <div class="data-item">
                            <label>Fjellh칮yde (m):</label>
                            <span id="country-elevation-meters">-</span>
                        </div>
                        <div class="data-item">
                            <label>Fjellh칮yde (ft):</label>
                            <span id="country-elevation-feet">-</span>
                        </div>
                        <div class="data-item">
                            <label>Naboland:</label>
                            <span id="country-borders">-</span>
                        </div>
                        <div class="data-item">
                            <label>칒y-status:</label>
                            <span id="country-island">-</span>
                        </div>
                    </div>

                    <div class="image-preview">
                        <h4>N친v칝rende kart:</h4>
                        <img id="current-country-image" src="" alt="Land kart" />
                    </div>

                    <div class="upload-section">
                        <h4>Last opp nytt kart:</h4>
                        <input type="file" id="new-country-image" accept="image/*" />
                        <button onclick="uploadNewImage()" class="admin-btn">Last opp</button>
                    </div>

                    <div class="edit-section">
                        <h4>Rediger data:</h4>
                        <div class="edit-form">
                            <div class="form-group">
                                <label for="edit-population">Befolkning:</label>
                                <input type="number" id="edit-population" />
                            </div>
                            <div class="form-group">
                                <label for="edit-population-year">Befolknings친r:</label>
                                <input type="number" id="edit-population-year" min="1900" max="2030" />
                            </div>
                            <div class="form-group">
                                <label for="edit-highest-mountain">H칮yeste fjell:</label>
                                <input type="text" id="edit-highest-mountain" />
                            </div>
                            <div class="form-group">
                                <label for="edit-elevation-meters">Fjellh칮yde (m):</label>
                                <input type="number" id="edit-elevation-meters" min="0" />
                            </div>
                            <div class="form-group">
                                <label for="edit-elevation-feet">Fjellh칮yde (ft):</label>
                                <input type="number" id="edit-elevation-feet" min="0" />
                            </div>
                            <div class="form-group">
                                <label for="edit-borders">Naboland (kommaseparert):</label>
                                <input type="text" id="edit-borders" placeholder="Norge, Sverige, Finland" />
                            </div>
                            <div class="form-group">
                                <label for="edit-is-island">칒y:</label>
                                <input type="checkbox" id="edit-is-island" />
                            </div>
                            <button onclick="saveCountryData()" class="admin-btn">Lagre endringer</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="admin-section">
                <h2>游늵 System Status</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">Totalt antall land:</span>
                        <span id="total-countries" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Land med bilder:</span>
                        <span id="countries-with-images" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Land med flagg:</span>
                        <span id="countries-with-flags" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Land med befolkningsdata:</span>
                        <span id="countries-with-population" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Land med hovedstadsdata:</span>
                        <span id="countries-with-capital" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Land med fjelldata:</span>
                        <span id="countries-with-mountain" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Land med nabolandsdata:</span>
                        <span id="countries-with-borders" class="status-value">-</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">칒yer:</span>
                        <span id="total-islands" class="status-value">-</span>
                    </div>
                </div>
                
                <div class="export-section">
                    <button onclick="exportAllCountries()" class="admin-btn export-btn">游늶 Last ut alle land</button>
                    <p class="export-info">칀pner en ny tab med alle land alfabetisk sortert og pent formatert</p>
                </div>
            </div>
        </main>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>
